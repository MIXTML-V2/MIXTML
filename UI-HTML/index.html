<script src="js/mouse_manager.js"></script><html>
	<head>
		<title>Platine mixage</title>
		<link rel="stylesheet" type="text/css" href="css/design.css" media="all"/> 
	</head>
	<body>
		<div id="search" style="width: 23.5%; position: absolute; right:0px; top: 5px;">
            <span><input id="searchValue" type="" class="search rounded" placeholder="Recherche..."><input id="searchButton" type="button" onclick="search(#value.)" value="Recherche"></span>
		</div>
		<div id="results" style="width: 23.5%; position: absolute; right:0px; top: 5px"></div>
		<script src="js/three.min.js"></script>
		<script src="js/libs/stats.min.js"></script>		
		<script src="js/renderers/Projector.js"></script>
		<script src="js/renderers/CanvasRenderer.js"></script>

		<script src="js/init_scene.js"></script>
		<script src="js/mouse_manager.js"></script>
		<script src="js/fps_manager.js"></script>
		<script src="js/slider_manager.js"></script>

		
		<script src="js/jquery.min.js"></script>
        <script src="js/buffer-loader.js"></script>
        <script src="http://connect.soundcloud.com/sdk.js"></script>
		<script src="js/bridge_graph_audio.js"></script>
		<script> 
			SC.initialize({
                client_id: 'b3bee43f97dd7fc2c777679cb276ab9f'
            });
			function search(val){
                SC.get("/tracks", {q: val}, function(tracks){
                    var length = tracks.length;
                    for (var i = 0; i < length; i++){
                        if (tracks[i].stream_url !== undefined)
                            $('#results').append('<p id="titleMusic'+ i +'" onclick="initurl(\''+tracks[i].stream_url+'\');">'+ tracks[i].title +' <img src="'+tracks[i].artwork_url+'" /> </p>');
                    }
                });
            }
			// variable initialisation de la scène
			var scene, width, height, ratio, camera, renderer, stat;
			// tableau qui va contenir tout les objects de la scène
			var objects = [];
			var posi_object_X = [];
			var posi_object_Y = [];
			var pick_object, raycaster;
			var sliderVertTouch , sliderHoriTouch = false;
			var slider_positionY, slider_positionX;
			// variable init des platines
			var radius, segments, circleGeometry, tourneDisqueD, tourneDisqueG;
			var espacementPlat;
			// variable init des sliders
			var sliderVertGeometry, sliderVolG, sliderVolD, 
			sliderHoriGeometry, sliderSpeedG, sliderSpeedD, sliderBalance;
			// variable object test
			var playlist;
			// variable des matériaux
			var plat_mat, slider_mat;
			// variable de position des platines
			var positionX = -1;
			var positionY = 0.2;
			var sliderSize = 0.2;
			// variable de la sourie
			var mouseX, mouseY, mouseDown, mouseDownX, mouseDownY;
			// fonction d'initalisation appeler depuis init_scene.js
			init_graph();
			// fonction d'render
			render();
			// Boucle de rendu toutes les modifs doivent de faire ici
			function render() {
				requestAnimationFrame( render );
				fps_manager();
				tourneDisqueD.rotation.z += 0.1;
				tourneDisqueG.rotation.z += 0.1;
				renderer.render( scene, camera );
				stats.update();
			}	
		</script>
		
	</body>
</html>
